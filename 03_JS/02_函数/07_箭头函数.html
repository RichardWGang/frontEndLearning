<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>闭包</title>
    <script>
        function sum(arr) {
            return arr.reduce(function (x, y) {
                return x + y;
            });
        }
        let sum1 = sum([1, 2, 3, 4, 5]);
        console.log('求和结果1', sum1);

        // 懒加载
        function lazy_sum(arr) {
            let sum =
                function () {
                    return arr.reduce(function (x, y) {
                        return x + y;
                    });
                }
            return sum;
        }

        let f = lazy_sum([1, 2, 3, 4, 5]);

        console.log('求和结果2', f());

        // 匿名函数，立即执行
        (function (x) {
            return x * x;
        })(3);


        function create_counter(initial) {
            let x = initial || 0;
            return {
                inc: function (){
                    x+=1;
                    return x;
                }

            }
        }

        let c = create_counter();
        console.log('闭包函数：' ,c.inc());
        console.log('闭包函数2：', c.inc());

    </script>
</head>

<body>

</body>

</html>